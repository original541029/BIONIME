{"version":3,"sources":["nurse-add.js"],"names":["window","onload","setSelectOption","addEvent","data","JSON","parse","localStorage","getItem","objKeyData","Object","keys","dataLen","length","objKeyDataLen","str","ForLoops","selectArea","addSelectArea","document","createElement","setAttribute","removeSelectArea","innerHTML","selectGroup","querySelector","addBtn","innerText","removeBtn","appendChild","ActEvent","clickBtn","dataNurse","$","click","verification","blank","addOpt","querySelectorAll","len","console","log","i","tempObj","員工","員工編號","val","護士姓名","加入時間","CreateData","newDate","updatedDate","assign","dataset","num","push","setItem","stringify"],"mappings":"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","sourcesContent":["window.onload = function () {\r\n  setSelectOption();\r\n  addEvent();\r\n}\r\n\r\n\r\n\r\nlet data = JSON.parse(localStorage.getItem(\"siteList\")) || null;\r\n\r\nfunction setSelectOption() {\r\n\r\n  if (data === null) {\r\n    return\r\n  }\r\n  let objKeyData = Object.keys(data[0])\r\n  let dataLen = data.length;\r\n  let objKeyDataLen = objKeyData.length;\r\n  let str = ``;\r\n  str += ForLoops.selectArea(data, objKeyData, dataLen, objKeyDataLen, str,'','removeAll')\r\n\r\n  let addSelectArea = document.createElement('select');\r\n  addSelectArea.setAttribute('class', 'add-select-area')\r\n  addSelectArea.setAttribute('size', '8')\r\n  let removeSelectArea = document.createElement('select');\r\n  removeSelectArea.setAttribute('class', 'remove-select-area')\r\n  removeSelectArea.setAttribute('size', '8')\r\n  removeSelectArea.innerHTML += str;\r\n  let selectGroup = document.querySelector('.select-group');\r\n  let addBtn = document.createElement('button');\r\n  addBtn.setAttribute('type', 'button');\r\n  addBtn.setAttribute('class', \"btn btn-primary add-btn\");\r\n  addBtn.innerText = '加入';\r\n  let removeBtn = document.createElement('button');\r\n  removeBtn.setAttribute('type', 'button');\r\n  removeBtn.innerText = '移除';\r\n  removeBtn.setAttribute('class', \"btn btn-primary remove-btn\");\r\n  selectGroup.appendChild(addSelectArea);\r\n  selectGroup.appendChild(addBtn);\r\n  selectGroup.appendChild(removeBtn);\r\n  selectGroup.appendChild(removeSelectArea);\r\n  ActEvent.clickBtn('.add-btn', '.add-select-area', '.remove-select-area', '.remove-select-area > option')\r\n  ActEvent.clickBtn('.remove-btn', '.remove-select-area', '.add-select-area', '.add-select-area > option')\r\n}\r\nfunction addEvent() {\r\n  let dataNurse = JSON.parse(localStorage.getItem(\"nurseList\")) || [];\r\n\r\n  $('.nurse-add-btn').click(() => {\r\n    verification.blank('.number', '員工編號');\r\n    verification.blank('.nurse-name', '護士姓名');\r\n    let addOpt = document.querySelectorAll('.add-select-area>option')\r\n    const len = addOpt.length;\r\n    console.log(data)\r\n    for (let i = 0; i < len; i++) {\r\n      let tempObj = {\r\n        員工: {\r\n          員工編號: $('.number').val(),\r\n          護士姓名: $('.nurse-name').val(),\r\n          加入時間: CreateData.newDate()\r\n        }\r\n      }\r\n      \r\n      var updatedDate = Object.assign(data[addOpt[i].dataset.num], tempObj);\r\n      dataNurse.push(updatedDate)\r\n      localStorage.setItem(\"nurseList\", JSON.stringify(dataNurse));\r\n\r\n      console.log(updatedDate)\r\n    }\r\n    $('.number').val('')\r\n    $('.nurse-name').val('')\r\n  })\r\n}"],"file":"nurse-add.js"}