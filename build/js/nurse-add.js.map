{"version":3,"sources":["nurse-add.js"],"names":["window","onload","setSelectOption","addEvent","ForLoops","data","objKeyData","dataLen","objKeyDataLen","str","i","j","ActEvent","btn","addArea","elm","elmSub","$","click","val","selectOptionAll","document","querySelectorAll","selectOptionAllLen","length","text","remove","dataNum","dataset","num","removeSelectArea","querySelector","innerHTML","JSON","parse","localStorage","getItem","Object","keys","selectArea","addSelectArea","createElement","setAttribute","selectGroup","addBtn","innerText","removeBtn","appendChild","clickBtn","dataNurseList","verification","blank","addOpt","len","console","log","tempObj","員工","員工編號","護士姓名","加入時間","CreateData","newDate","updatedDate","assign"],"mappings":"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","sourcesContent":["window.onload = function () {\r\n  setSelectOption();\r\n  addEvent();\r\n}\r\nclass ForLoops {\r\n  static selectArea(data, objKeyData, dataLen, objKeyDataLen, str) {\r\n    for (let i = 0; i < dataLen; i++) {\r\n      for (let j = 0; j < objKeyDataLen; j++) {\r\n        if (objKeyData[j] == \"name\") {\r\n          str += `<option data-num=${i}>${data[i][objKeyData[j]]}</option>`;\r\n        }\r\n      }\r\n    }\r\n    return str;\r\n  }\r\n\r\n}\r\n\r\nclass ActEvent {\r\n  static clickBtn(btn, addArea, elm, elmSub) {\r\n    $(btn).click(() => {\r\n      let str = '';\r\n      if ($(elm).val() == null) {\r\n        return\r\n      }\r\n      let selectOptionAll = document.querySelectorAll(elmSub);\r\n      let selectOptionAllLen = selectOptionAll.length;\r\n      for (let i = 0; i < selectOptionAllLen; i++) {\r\n        if ($(elm).val() == selectOptionAll[i].text) {\r\n          selectOptionAll[i].remove();\r\n          let dataNum = selectOptionAll[i].dataset.num;\r\n          str += `<option data-num=\"${dataNum}\">${selectOptionAll[i].text}</option>`\r\n          let removeSelectArea = document.querySelector(addArea);\r\n          removeSelectArea.innerHTML += str;\r\n        }\r\n\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n}\r\nlet data = JSON.parse(localStorage.getItem(\"siteList\")) || null;\r\n\r\nfunction setSelectOption() {\r\n\r\n  if (data === null) {\r\n    return\r\n  }\r\n  let objKeyData = Object.keys(data[0])\r\n  let dataLen = data.length;\r\n  let objKeyDataLen = objKeyData.length;\r\n  let str = ``;\r\n  str += ForLoops.selectArea(data, objKeyData, dataLen, objKeyDataLen, str)\r\n\r\n  let addSelectArea = document.createElement('select');\r\n  addSelectArea.setAttribute('class', 'add-select-area')\r\n  addSelectArea.setAttribute('size', '8')\r\n  let removeSelectArea = document.createElement('select');\r\n  removeSelectArea.setAttribute('class', 'remove-select-area')\r\n  removeSelectArea.setAttribute('size', '8')\r\n  addSelectArea.innerHTML += str;\r\n  let selectGroup = document.querySelector('.select-group');\r\n  let addBtn = document.createElement('button');\r\n  addBtn.setAttribute('type', 'button');\r\n  addBtn.setAttribute('class', \"btn btn-primary add-btn\");\r\n  addBtn.innerText = '加入';\r\n  let removeBtn = document.createElement('button');\r\n  removeBtn.setAttribute('type', 'button');\r\n  removeBtn.innerText = '移除';\r\n  removeBtn.setAttribute('class', \"btn btn-primary remove-btn\");\r\n  selectGroup.appendChild(addSelectArea);\r\n  selectGroup.appendChild(addBtn);\r\n  selectGroup.appendChild(removeBtn);\r\n  selectGroup.appendChild(removeSelectArea);\r\n  ActEvent.clickBtn('.add-btn', '.remove-select-area', '.add-select-area', '.add-select-area > option')\r\n  ActEvent.clickBtn('.remove-btn', '.add-select-area', '.remove-select-area', '.remove-select-area > option')\r\n}\r\nlet dataNurseList = JSON.parse(localStorage.getItem(\"nurseList\")) || [];\r\n\r\nfunction addEvent() {\r\n  $('.nurse-add-btn').click(() => {\r\n    verification.blank('.number', '員工編號');\r\n    verification.blank('.nurse-name', '護士姓名');\r\n    let addOpt = document.querySelectorAll('.remove-select-area>option')\r\n    const len = addOpt.length;\r\n    console.log(data)\r\n    for (let i = 0; i < len; i++) {\r\n      let tempObj = {\r\n        員工: {\r\n          員工編號: $('.number').val(),\r\n          護士姓名: $('.nurse-name').val(),\r\n          加入時間: CreateData.newDate()\r\n        }\r\n      }\r\n      \r\n      var updatedDate = Object.assign(data[addOpt[i].dataset.num], tempObj);\r\n      // dataNurseList.push(updatedDate)\r\n      // localStorage.setItem(\"nurseList\", JSON.stringify(dataNurseList));\r\n\r\n      console.log(updatedDate)\r\n    }\r\n  })\r\n}"],"file":"nurse-add.js"}