{"version":3,"sources":["nurse-add.js"],"names":["window","onload","setSelectOption","addEvent","data","JSON","parse","localStorage","getItem","objKeyData","Object","keys","dataLen","length","objKeyDataLen","str","ForLoops","selectArea","addSelectArea","document","createElement","setAttribute","removeSelectArea","innerHTML","selectGroup","querySelector","addBtn","removeBtn","appendChild","ActEvent","clickBtn","dataNurse","$","click","verification","blank","pNotify","querySelectorAll","PNotify","title","addOpt","len","console","log","i","tempObj","員工","員工編號","val","護士姓名","加入時間","CreateData","newDate","updatedDate","assign","dataset","num","push","setItem","stringify"],"mappings":"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","sourcesContent":["window.onload = function () {\r\n  setSelectOption();\r\n  addEvent();\r\n}\r\n\r\n\r\n\r\nlet data = JSON.parse(localStorage.getItem(\"siteList\")) || null;\r\n\r\nfunction setSelectOption() {\r\n\r\n  if (data === null) {\r\n    return\r\n  }\r\n  let objKeyData = Object.keys(data[0])\r\n  let dataLen = data.length;\r\n  let objKeyDataLen = objKeyData.length;\r\n  let str = ``;\r\n  str += ForLoops.selectArea(data, objKeyData, dataLen, objKeyDataLen, str, '', 'removeAll')\r\n\r\n  let addSelectArea = document.createElement('select');\r\n  addSelectArea.setAttribute('class', 'add-select-area  w-8');\r\n  addSelectArea.setAttribute('size', '8')\r\n  let removeSelectArea = document.createElement('select');\r\n  removeSelectArea.setAttribute('class', 'remove-select-area w-8 ')\r\n  removeSelectArea.setAttribute('size', '8')\r\n  removeSelectArea.innerHTML += str;\r\n  \r\n  let selectGroup = document.querySelector('.select-group');\r\n\r\n  let addBtn = document.createElement('a');\r\n  addBtn.setAttribute('class', 'd-flex align-items-center')\r\n  addBtn.innerHTML=`<i class=\"fas fa-arrow-alt-circle-left text-secondary font-1_6 add-btn cursor-potion\"></i>`\r\n\r\n\r\n  let removeBtn = document.createElement('div');\r\n  removeBtn.setAttribute('class', 'd-flex align-items-center mr-2')\r\n  removeBtn.innerHTML=`<i class=\"fas fa-arrow-alt-circle-right text-secondary font-1_6 remove-btn cursor-potion\"></i>`\r\n\r\n  // let removeBtn = document.createElement('button');\r\n  // removeBtn.setAttribute('type', 'button');\r\n  // removeBtn.innerText = '移除';\r\n  // removeBtn.setAttribute('class', \"btn btn-outline-secondary remove-btn\");\r\n  selectGroup.appendChild(addSelectArea);\r\n  selectGroup.appendChild(removeBtn);\r\n  selectGroup.appendChild(addBtn);\r\n  selectGroup.appendChild(removeSelectArea);\r\n  ActEvent.clickBtn('.add-btn', '.add-select-area', '.remove-select-area', '.remove-select-area > option')\r\n  ActEvent.clickBtn('.remove-btn', '.remove-select-area', '.add-select-area', '.add-select-area > option')\r\n}\r\n\r\nfunction addEvent() {\r\n  let dataNurse = JSON.parse(localStorage.getItem(\"nurseList\")) || [];\r\n\r\n  $('.nurse-add-btn').click(() => {\r\n    verification.blank('.require-option', ['輸入員工編號', '輸入護士姓名']);\r\n    if ($('.add-select-area>option').length == 0) {\r\n      let pNotify = document.querySelectorAll('.ui-pnotify')\r\n      if (pNotify[0]) {\r\n        return\r\n      } else {\r\n        new PNotify({\r\n          title: `請加入站點`\r\n        });\r\n        return\r\n      }\r\n\r\n    }\r\n    let addOpt = document.querySelectorAll('.add-select-area>option')\r\n    const len = addOpt.length;\r\n    console.log(data)\r\n    for (let i = 0; i < len; i++) {\r\n      let tempObj = {\r\n        員工: {\r\n          員工編號: $('.number').val(),\r\n          護士姓名: $('.nurse-name').val(),\r\n          加入時間: CreateData.newDate()\r\n        }\r\n      }\r\n\r\n      var updatedDate = Object.assign(data[addOpt[i].dataset.num], tempObj);\r\n      dataNurse.push(updatedDate)\r\n      localStorage.setItem(\"nurseList\", JSON.stringify(dataNurse));\r\n      let pNotify = document.querySelectorAll('.ui-pnotify')\r\n      if (pNotify[0]) {\r\n        return\r\n      }\r\n      new PNotify({\r\n        title: `新增成功`\r\n      });\r\n      $('.number').val(''),\r\n      $('.nurse-name').val(''),\r\n      console.log(updatedDate)\r\n    }\r\n\r\n  })\r\n}"],"file":"nurse-add.js"}