{"version":3,"sources":["site-list.js"],"names":["window","onload","table","data","JSON","parse","localStorage","getItem","$","remove","console","log","aryHead","objKeyData","Object","keys","aryHeadLen","length","dataLen","objKeyDataLen","strThead","j","strTbody","i","thead","document","createElement","tbody","setAttribute","tableArea","querySelector","innerHTML","appendChild","removeRow","click","e","num","target","dataset","splice","setItem","stringify"],"mappings":"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","sourcesContent":["window.onload = function () {\r\n  table();\r\n}\r\nlet data = JSON.parse(localStorage.getItem(\"siteList\")) || null;\r\n\r\nfunction table() {\r\n  $('.table').remove();\r\n  console.log(data)\r\n  if (data == null) {\r\n    return\r\n  }\r\n  let aryHead = ['站點', '修改時間', '動作'];\r\n  let objKeyData = Object.keys(data[0])\r\n\r\n  let aryHeadLen = aryHead.length;\r\n  let dataLen = data.length;\r\n  let objKeyDataLen = objKeyData.length;\r\n  let strThead = '<tr>';\r\n\r\n\r\n  for (let j = 0; j < aryHeadLen; j++) {\r\n    strThead += `<th>${aryHead[j]}</th>`\r\n  }\r\n  strThead += '</tr>'\r\n  console.log(strThead)\r\n\r\n  let strTbody = '';\r\n  for (let i = 0; i < dataLen; i++) {\r\n    strTbody += `<tr>`;\r\n    for (let j = 0; j < (objKeyDataLen + 1); j++) {\r\n      if (j == 2) {\r\n        strTbody += `<td class=\"d-flex \"><div class=\"model-btn mr-2 cursor-potion\" data-toggle=\"modal\" data-target=\"#myModal\"><i class=\"fas fa-users\"></div></i><div class=\"cursor-potion text-danger delete\" data-num=\"${i}\">X</div></td>`\r\n      } else {\r\n        strTbody += `<td>${data[i][objKeyData[j]]}</td>`\r\n      }\r\n    }\r\n    strTbody += '</tr>'\r\n  }\r\n  console.log(strTbody)\r\n\r\n  let thead = document.createElement('thead');\r\n  let tbody = document.createElement('tbody');\r\n  let table = document.createElement('table');\r\n  table.setAttribute('class', 'table')\r\n  let tableArea = document.querySelector('.table-area');\r\n  thead.innerHTML = strThead;\r\n  tbody.innerHTML = strTbody;\r\n  table.appendChild(thead);\r\n  table.appendChild(tbody);\r\n  tableArea.appendChild(table);\r\n  if ($('.delete').length != 0) {\r\n    removeRow();\r\n  }\r\n}\r\n\r\nfunction removeRow() {\r\n  $('.delete').click((e) => {\r\n    var num = e.target.dataset.num;\r\n    data.splice(num, 1);\r\n    localStorage.setItem(\"siteList\", JSON.stringify(data));\r\n    table();\r\n  })\r\n}"],"file":"site-list.js"}